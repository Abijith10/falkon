<?xml version="1.0"?>
<typesystem package="PyFalkon">
    <load-typesystem name="typesystem_webenginewidgets.xml" generate="no"/>

    <inject-code class="native" position="beginning">
      #include &lt;pythonplugin.h&gt;
    </inject-code>

    <value-type name="DesktopFile"/>
    <object-type name="PluginInterface">
      <enum-type name="InitState"/>
    </object-type>

    <add-function signature="registerPlugin(PluginInterface*)">
      <inject-code class="target" position="beginning">
        Py_INCREF(%PYARG_1);
        pyfalkon_register_plugin(%1);
      </inject-code>
    </add-function>

</typesystem>
